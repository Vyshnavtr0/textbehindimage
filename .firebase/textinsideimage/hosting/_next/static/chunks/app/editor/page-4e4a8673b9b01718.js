(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{7542:function(e,t,a){Promise.resolve().then(a.bind(a,7200))},7200:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ed}});var s=a(7437),r=a(2265),l=a(8846),n=a(4508);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(l.fC,{ref:t,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",a),...r,children:[(0,s.jsx)(l.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(l.e6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(l.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});i.displayName=l.fC.displayName;var o=a(2869);let d=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});d.displayName="Input";var c=a(8856),u=a(875),h=a(2135),m=a(401);let f=c.fC;c.ZA;let x=c.B4,p=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(c.xz,{ref:t,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,s.jsx)(c.JO,{asChild:!0,children:(0,s.jsx)(u.Z,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=c.xz.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(c.u_,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(h.Z,{className:"h-4 w-4"})})});g.displayName=c.u_.displayName;let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(c.$G,{ref:t,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(u.Z,{className:"h-4 w-4"})})});j.displayName=c.$G.displayName;let b=r.forwardRef((e,t)=>{let{className:a,children:r,position:l="popper",...i}=e;return(0,s.jsx)(c.h_,{children:(0,s.jsxs)(c.VY,{ref:t,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,s.jsx)(g,{}),(0,s.jsx)(c.l_,{className:(0,n.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(j,{})]})})});b.displayName=c.VY.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(c.__,{ref:t,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=c.__.displayName;let v=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(c.ck,{ref:t,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(c.wU,{children:(0,s.jsx)(m.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(c.eT,{children:r})]})});v.displayName=c.ck.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(c.Z0,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=c.Z0.displayName;var N=a(6394);let y=(0,a(7712).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),w=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(N.f,{ref:t,className:(0,n.cn)(y(),a),...r})});w.displayName=N.f.displayName;var k=a(4826),C=a(3134);let z=C.fC,R=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(C.ck,{ref:t,className:(0,n.cn)("border-b",a),...r})});R.displayName="AccordionItem";let S=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsx)(C.h4,{className:"flex",children:(0,s.jsxs)(C.xz,{ref:t,className:(0,n.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...l,children:[r,(0,s.jsx)(u.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});S.displayName=C.xz.displayName;let F=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsx)(C.VY,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,s.jsx)("div",{className:(0,n.cn)("pb-4 pt-0",a),children:r})})});F.displayName=C.VY.displayName;var Z=a(2735),I=a(7689),V=a(2364),T=a(1414),E=a(5965),P=a(4353),_=a(3391),A=a(5802),O=a(8930),D=a(9397),G=a(8867),L=a(2438),M=a(3609),U=a(9270);let W=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(U.fC,{ref:t,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(U.z$,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(m.Z,{className:"h-4 w-4"})})})});W.displayName=U.fC.displayName;var Y=a(3643);let B=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(Y.fC,{ref:t,className:(0,n.cn)("relative overflow-hidden",a),...l,children:[(0,s.jsx)(Y.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)($,{}),(0,s.jsx)(Y.Ns,{})]})});B.displayName=Y.fC.displayName;let $=r.forwardRef((e,t)=>{let{className:a,orientation:r="vertical",...l}=e;return(0,s.jsx)(Y.gb,{ref:t,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,s.jsx)(Y.q4,{className:"relative flex-1 rounded-full bg-border"})})});$.displayName=Y.gb.displayName;var H=a(721);let X=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(H.fC,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(H.bU,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});X.displayName=H.fC.displayName;var q=a(6512),J=a(394);let Q=J.fC;J.xz;let K=J.h_,ee=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});ee.displayName=J.aV.displayName;let et=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(K,{children:[(0,s.jsx)(ee,{}),(0,s.jsx)(J.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});et.displayName=J.VY.displayName;let ea=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};ea.displayName="AlertDialogHeader";let es=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};es.displayName="AlertDialogFooter";let er=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold",a),...r})});er.displayName=J.Dx.displayName;let el=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});el.displayName=J.dk.displayName;let en=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.aU,{ref:t,className:(0,n.cn)((0,o.d)(),a),...r})});en.displayName=J.aU.displayName;let ei=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(J.$j,{ref:t,className:(0,n.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});ei.displayName=J.$j.displayName;let eo=e=>{let{value:t,onChange:a}=e,[l,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),c=(0,r.useRef)(null),[u,h]=(0,r.useState)([]);(0,r.useEffect)(()=>{fetch("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyCG9LNdH6W6bOyR-lCDvM73wPNVpVkk0Tw").then(e=>e.json()).then(e=>{h(e.items.map(e=>e.family))});let e=e=>{c.current&&!c.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.useEffect)(()=>{u.forEach(e=>{let t=document.createElement("link");t.href="https://fonts.googleapis.com/css?family=".concat(e.replace(" ","+")),t.rel="stylesheet",document.head.appendChild(t)})},[u]);let m=u.filter(e=>e.toLowerCase().includes(l.toLowerCase())),f=e=>{a(e),o(!1)};return(0,s.jsxs)("div",{className:"relative",ref:c,children:[(0,s.jsx)(w,{htmlFor:"font-selector",children:"Font Family"}),(0,s.jsx)("div",{className:"border rounded-md p-2 cursor-pointer",onClick:()=>o(!i),style:{fontFamily:t},children:t||"Select a font"}),i&&(0,s.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg",children:[(0,s.jsx)(d,{type:"text",placeholder:"Search font family...",value:l,onChange:e=>n(e.target.value),className:"w-full p-2"}),(0,s.jsx)(B,{className:"h-60",children:m.map(e=>(0,s.jsx)("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",style:{fontFamily:e},onClick:()=>f(e),children:e},e))})]})]})};var ed=()=>{let[e,t]=(0,r.useState)(null),[a,l]=(0,r.useState)(null),[n,c]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),[y,C]=(0,r.useState)(0),[U,Y]=(0,r.useState)(0),[B,$]=(0,r.useState)(!1),[H,J]=(0,r.useState)(!1),[K,ee]=(0,r.useState)(1),[ed,ec]=(0,r.useState)([]),[eu,eh]=(0,r.useState)(-1),[em,ef]=(0,r.useState)({name:"none",value:100}),[ex,ep]=(0,r.useState)({background:!0,foreground:!0}),[eg,ej]=(0,r.useState)(!1),eb=(0,r.useRef)(null),ev=(0,r.useRef)(null),[eN,ey]=(0,r.useState)([]),ew=e=>{let t=new Image;t.crossOrigin="Anonymous",t.src=e,t.onload=()=>{let e=document.createElement("canvas"),a=e.getContext("2d");if(!a){console.error("Failed to get 2D context");return}e.width=t.width,e.height=t.height,a.drawImage(t,0,0,t.width,t.height);let s=[];[[0,0],[.5,0],[1,0],[0,.5],[.5,.5],[1,.5],[0,1],[.5,1],[1,1]].forEach(e=>{let[r,l]=e,n=a.getImageData(Math.floor(r*t.width),Math.floor(l*t.height),1,1).data,i="#".concat(Array.from(n.slice(0,3)).map(e=>e.toString(16).padStart(2,"0")).join(""));s.includes(i)||s.push(i)}),s.push("#ffffff"),ey(s.slice(0,8))}},[ek,eC]=(0,r.useState)(!1),[ez,eR]=(0,r.useState)(!1),eS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,a={id:Date.now(),text:"Sample Text",fontFamily:"Inter",textColor:"#ffffff",gradientColor1:"#ffffff",gradientColor2:"#000000",useGradient:!1,xPosition:Math.round(e/3),yPosition:Math.round(t/2),textSize:Math.round(Math.min(e,t)/8),fontWeight:400,textOpacity:1,isReversed:!1,rotation:0,isForeground:!1};c(e=>[...e,a]),e_([...n,a])},eF=e=>{let t=n.map(t=>t.id===e?{...t,isForeground:!t.isForeground}:t);c(t),e_(t)},eZ=e=>{let t=n.map(t=>t.id===e?{...t,useGradient:!t.useGradient}:t);c(t),e_(t)},eI=e=>{let t=n.map(t=>t.id===e?{...t,isReversed:!t.isReversed}:t);c(t),e_(t)},eV=(e,t)=>{let a=n.map(a=>a.id===e?{...a,rotation:(a.rotation+t)%360}:a);c(a),e_(a)},eT=(e,t,a)=>{let s=n.map(s=>s.id===e?{...s,[t]:a}:s);c(s),e_(s)},eE=e=>{let t=n.filter(t=>t.id!==e);c(t),e_(t)},eP=e=>{let t=n.find(t=>t.id===e);if(t){let e=[...n,{...t,id:Date.now()}];c(e),e_(e)}},e_=e=>{let t=ed.slice(0,eu+1);t.push(e),ec(t),eh(t.length-1)},eA=async e=>{if(!e.target.files||0===e.target.files.length)return;let a=e.target.files[0];if(a){h(!0),N(null);try{let e=new FileReader;e.onload=async e=>{if(e.target&&e.target.result){t(e.target.result);let a=new Image;a.onload=()=>{C(a.width),Y(a.height),h(!1),eS(a.width,a.height),e.target&&e.target.result&&ew(e.target.result)},a.src=e.target.result,g(!0);try{let t=await fetch(e.target.result).then(e=>e.blob()),a=await (0,k.X1)(t),s=URL.createObjectURL(a);l(s)}catch(e){console.error("Error removing background:",e)}finally{g(!1)}}},e.readAsDataURL(a)}catch(e){console.error("Error processing image:",e),h(!1)}}},eO=(e,t,a)=>{switch(t){case"brightness":e.filter="brightness(".concat(a,"%)");break;case"contrast":e.filter="contrast(".concat(a,"%)");break;case"grayscale":e.filter="grayscale(".concat(a,"%)");break;case"sepia":e.filter="sepia(".concat(a,"%)");break;case"blur":e.filter="blur(".concat(a/10,"px)");break;default:e.filter="none"}},eD=()=>{ej(!eg)},eG=(0,r.useCallback)((e,t)=>{n.forEach(a=>{if(a.isForeground===t){if(e.save(),e.font="".concat(a.fontWeight," ").concat(a.textSize*K,'px "').concat(a.fontFamily,'"'),e.globalAlpha=a.textOpacity,e.translate(a.xPosition*K,a.yPosition*K),e.rotate(a.rotation*Math.PI/180),a.isReversed&&e.scale(-1,1),a.useGradient){let t=e.createLinearGradient(0,0,e.measureText(a.text).width,0);t.addColorStop(0,a.gradientColor1),t.addColorStop(1,a.gradientColor2),e.fillStyle=t}else e.fillStyle=a.textColor;e.fillText(a.text,0,0),e.restore()}})},[n,K]);return(0,r.useEffect)(()=>{if(e){let t=eb.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let r=new Image;r.onload=()=>{if(t.width=r.width*K,t.height=r.height*K,s.clearRect(0,0,t.width,t.height),s.save(),s.translate(ek?t.width:0,ez?t.height:0),s.scale(ek?-1:1,ez?-1:1),ex.background?eO(s,em.name,em.value):s.filter="none",s.drawImage(r,0,0,t.width,t.height),eG(s,!1),a){let e=new Image;e.onload=()=>{ex.foreground?eO(s,em.name,em.value):s.filter="none",s.translate(ek?t.width:0,ez?t.height:0),s.scale(ek?-1:1,ez?-1:1),s.drawImage(e,0,0,t.width,t.height),eG(s,!0)},e.src=a}else eG(s,!0);s.restore()},r.src=e}},[e,a,n,K,em,ex,ek,ez,eG]),(0,s.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,s.jsxs)("div",{className:"bg-white text-white p-4 flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-black",children:"Text Behind Image"}),e?(0,s.jsxs)(o.z,{className:"bg-white text-black font-semibold rounded-lg px-4 py-2 shadow hover:bg-black hover:text-white transition duration-200 border-2 border-black",onClick:()=>{let e=eb.current;if(e){let t=e.toDataURL("image/png"),a=document.createElement("a");a.download="edited_image.png",a.href=t,a.click()}else console.error("Canvas is not available")},children:[(0,s.jsx)(Z.Z,{className:"inline mr-2 h-4 w-4"}),"Download Image"]}):(0,s.jsxs)(o.z,{className:"bg-white text-black font-semibold rounded-lg px-4 py-2 shadow hover:bg-black hover:text-white transition duration-200 border-black",onClick:()=>{var e;return null===(e=ev.current)||void 0===e?void 0:e.click()},children:[(0,s.jsx)(I.Z,{className:"inline mr-2 h-4 w-4"}),"Upload Image"]})]}),(0,s.jsx)(q.Z,{}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[e&&(0,s.jsx)("div",{className:"w-16 bg-white text-black flex flex-col items-center py-4 space-y-4",children:(0,s.jsx)(o.z,{variant:"ghost",size:"icon",onClick:eD,className:"p-2 rounded-full ".concat(eg?"bg-black text-white":""),children:(0,s.jsx)(V.Z,{className:"h-6 w-6"})})}),(0,s.jsx)("div",{className:"bg-gray-100 overflow-hidden transition-all duration-300 ease-in-out ".concat(eg?"w-64":"w-0"),children:(0,s.jsxs)("div",{className:"w-64 p-4 overflow-y-auto",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Image Filters"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{htmlFor:"filter-select",children:"Filter Type"}),(0,s.jsxs)(f,{value:em.name,onValueChange:e=>ef({...em,name:e}),children:[(0,s.jsx)(p,{id:"filter-select",children:(0,s.jsx)(x,{placeholder:"Select filter"})}),(0,s.jsxs)(b,{children:[(0,s.jsx)(v,{value:"none",children:"None"}),(0,s.jsx)(v,{value:"brightness",children:"Brightness"}),(0,s.jsx)(v,{value:"contrast",children:"Contrast"}),(0,s.jsx)(v,{value:"grayscale",children:"Grayscale"}),(0,s.jsx)(v,{value:"sepia",children:"Sepia"}),(0,s.jsx)(v,{value:"blur",children:"Blur"})]})]})]}),"none"!==em.name&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"Filter Intensity"}),(0,s.jsx)(i,{value:[em.value],onValueChange:e=>{let[t]=e;return ef({...em,value:t})},min:0,max:200,step:1}),(0,s.jsxs)("span",{children:[em.value,"%"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"Apply Filter To"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(W,{id:"background",checked:ex.background,onCheckedChange:e=>ep({...ex,background:!0===e})}),(0,s.jsx)("label",{htmlFor:"background",children:"Background"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(W,{id:"foreground",checked:ex.foreground,onCheckedChange:e=>ep({...ex,foreground:!0===e})}),(0,s.jsx)("label",{htmlFor:"foreground",children:"Foreground"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"Flip Image"}),(0,s.jsxs)(o.z,{variant:ek?"default":"outline",size:"sm",onClick:()=>{eC(!ek)},className:"flex items-center",children:[(0,s.jsx)(T.Z,{className:"h-4 w-4 mr-2"}),"Horizontal"]}),(0,s.jsxs)(o.z,{variant:ez?"default":"outline",size:"sm",onClick:()=>{eR(!ez)},className:"flex items-center",children:[(0,s.jsx)(T.Z,{className:"h-4 w-4 mr-2 rotate-90"}),"Vertical"]})]})]})]})]})}),(0,s.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"relative mb-4 h-[calc(100vh-8rem)] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:[e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("canvas",{ref:eb,className:"max-w-full max-h-full object-contain"}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-2",children:[(0,s.jsx)(o.z,{className:"bg-white text-black rounded-full p-2 hover:bg-gray-100 transition duration-200",onClick:()=>{eu>0&&(eh(eu-1),c(ed[eu-1]))},disabled:eu<=0,children:(0,s.jsx)(E.Z,{className:"h-5 w-5"})}),(0,s.jsx)(o.z,{className:"bg-white text-black rounded-full p-2 hover:bg-gray-100 transition duration-200",onClick:()=>{eu<ed.length-1&&(eh(eu+1),c(ed[eu+1]))},disabled:eu>=ed.length-1,children:(0,s.jsx)(P.Z,{className:"h-5 w-5"})}),(0,s.jsx)(o.z,{className:"bg-white text-black rounded-full p-2 hover:bg-blue-100 transition duration-200",onClick:()=>{ee(e=>Math.min(e+.1,3))},children:(0,s.jsx)(_.Z,{className:"h-5 w-5"})}),(0,s.jsx)(o.z,{className:"bg-white text-black rounded-full p-2 hover:bg-blue-100 transition duration-200",onClick:()=>{ee(e=>Math.max(e-.1,.1))},children:(0,s.jsx)(A.Z,{className:"h-5 w-5"})}),(0,s.jsx)(o.z,{className:"bg-white text-black rounded-full p-2 hover:bg-red-100 transition duration-200",onClick:()=>{$(!0)},children:(0,s.jsx)(O.Z,{className:"h-5 w-5"})})]})]}):(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(I.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No image selected"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Click to upload or drag and drop"}),(0,s.jsx)(o.z,{className:"mt-2",onClick:()=>{var e;return null===(e=ev.current)||void 0===e?void 0:e.click()},children:"Select Image"}),(0,s.jsx)("input",{ref:ev,type:"file",className:"hidden",onChange:eA,accept:"image/*"})]}),(u||m)&&(0,s.jsxs)("div",{className:"absolute inset-0  flex items-center justify-center bg-black bg-opacity-50",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"}),(0,s.jsx)("span",{className:"ml-2 text-white",children:m?"“Hold on, smart algorithms at work!”":"Loading..."})]})]}),j&&(0,s.jsx)("div",{className:"text-red-500 mb-4",children:j})]}),e&&(0,s.jsxs)("div",{className:"w-1/4 p-4 overflow-y-auto bg-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)(o.z,{onClick:()=>eS(),className:"flex items-center w-full",children:[(0,s.jsx)(D.Z,{className:"mr-2 h-4 w-4"}),"Add New Text"]}),(0,s.jsx)(o.z,{onClick:()=>{J(!0)},className:"ml-2 p-2 text-red-500 hover:bg-red-100 rounded bg-white",title:"Clear All Text Items",children:(0,s.jsx)(O.Z,{className:"h-4 w-4"})})]}),(0,s.jsx)(z,{type:"single",collapsible:!0,className:"w-full",children:n.map((e,t)=>(0,s.jsxs)(R,{value:"item-".concat(e.id),children:[(0,s.jsx)(S,{className:"hover:no-underline",children:(0,s.jsxs)("div",{className:"flex justify-between items-center w-full p-1",children:[(0,s.jsxs)("span",{children:[t+1," - ",e.text]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(o.z,{size:"icon",variant:"ghost",onClick:t=>{t.stopPropagation(),eP(e.id)},children:(0,s.jsx)(G.Z,{className:"h-4 w-4"})}),(0,s.jsx)(o.z,{size:"icon",variant:"ghost",onClick:t=>{t.stopPropagation(),eE(e.id)},children:(0,s.jsx)(O.Z,{className:"h-4 w-4"})})]})]})}),(0,s.jsx)(F,{children:(0,s.jsxs)("div",{className:"space-y-4 p-5",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{htmlFor:"text-".concat(e.id),children:"Text"}),(0,s.jsx)(d,{id:"text-".concat(e.id),value:e.text,onChange:t=>eT(e.id,"text",t.target.value),placeholder:"Enter text"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(w,{htmlFor:"foreground-".concat(e.id),children:"Render in Foreground"}),(0,s.jsx)(X,{id:"foreground-".concat(e.id),checked:e.isForeground,onCheckedChange:()=>eF(e.id)})]})]}),(0,s.jsx)(eo,{value:e.fontFamily,onChange:t=>eT(e.id,"fontFamily",t)}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{htmlFor:"color-".concat(e.id),children:"Color"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d,{id:"color-".concat(e.id),type:"color",value:e.textColor,onChange:t=>eT(e.id,"textColor",t.target.value),className:"w-12 h-12 p-1"}),(0,s.jsx)("div",{className:"w-5",children:" "}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:eN.map(t=>(0,s.jsx)(o.z,{className:"w-8 h-8 p-0 rounded-full border-2 border-black",style:{backgroundColor:t},onClick:()=>eT(e.id,"textColor",t),children:e.textColor===t&&(0,s.jsx)(L.Z,{className:"h-4 w-4 text-black border-white border-2"})},t))})]})]}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(W,{id:"use-gradient-".concat(e.id),checked:e.useGradient,onCheckedChange:()=>eZ(e.id)}),(0,s.jsx)(w,{htmlFor:"use-gradient-".concat(e.id),children:"Use Gradient"})]})})}),e.useGradient&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"Gradient Colors"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d,{type:"color",value:e.gradientColor1,onChange:t=>eT(e.id,"gradientColor1",t.target.value),className:"w-12 h-12 p-1"}),(0,s.jsx)(M.Z,{className:"h-4 w-4"}),(0,s.jsx)(d,{type:"color",value:e.gradientColor2,onChange:t=>eT(e.id,"gradientColor2",t.target.value),className:"w-12 h-12 p-1"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"X Position"}),(0,s.jsx)(i,{value:[e.xPosition],onValueChange:t=>{let[a]=t;return eT(e.id,"xPosition",a)},min:0,max:y,step:1}),(0,s.jsxs)("span",{children:[e.xPosition,"px"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"Y Position"}),(0,s.jsx)(i,{value:[e.yPosition],onValueChange:t=>{let[a]=t;return eT(e.id,"yPosition",a)},min:0,max:U,step:1}),(0,s.jsxs)("span",{children:[e.yPosition,"px"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"Text Size"}),(0,s.jsx)(i,{value:[e.textSize],onValueChange:t=>{let[a]=t;return eT(e.id,"textSize",a)},min:10,max:1e3,step:1}),(0,s.jsxs)("span",{children:[e.textSize,"px"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"Font Weight"}),(0,s.jsx)(i,{value:[e.fontWeight],onValueChange:t=>{let[a]=t;return eT(e.id,"fontWeight",100*Math.round(a/100))},min:100,max:900,step:100}),(0,s.jsx)("span",{children:e.fontWeight})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"Opacity"}),(0,s.jsx)(i,{value:[e.textOpacity],onValueChange:t=>{let[a]=t;return eT(e.id,"textOpacity",a)},min:0,max:1,step:.1}),(0,s.jsxs)("span",{children:[(100*e.textOpacity).toFixed(0),"%"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(w,{children:"Text Rotation"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.z,{size:"icon",variant:"outline",onClick:()=>eV(e.id,-90),children:(0,s.jsx)(T.Z,{className:"h-4 w-4 rotate-[-90deg]"})}),(0,s.jsx)(i,{value:[e.rotation],onValueChange:t=>{let[a]=t;return eV(e.id,a-e.rotation)},min:0,max:360,step:1}),(0,s.jsx)(o.z,{size:"icon",variant:"outline",onClick:()=>eV(e.id,90),children:(0,s.jsx)(T.Z,{className:"h-4 w-4 rotate-90"})})]}),(0,s.jsxs)("span",{children:[e.rotation,"\xb0"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(W,{id:"reverse-".concat(e.id),checked:e.isReversed,onCheckedChange:()=>eI(e.id)}),(0,s.jsx)(w,{htmlFor:"reverse-".concat(e.id),children:"Reverse Text"})]})]})})]},e.id))})]})]}),(0,s.jsx)(Q,{open:B,onOpenChange:$,children:(0,s.jsxs)(et,{children:[(0,s.jsxs)(ea,{children:[(0,s.jsx)(er,{children:"Are you sure you want to delete this image?"}),(0,s.jsx)(el,{children:"This action cannot be undone. This will permanently delete the image and all associated text items."})]}),(0,s.jsxs)(es,{children:[(0,s.jsx)(ei,{children:"Cancel"}),(0,s.jsx)(en,{onClick:()=>{t(null),l(null),c([]),C(0),Y(0),ee(1),ec([]),eh(-1),ef({name:"none",value:100}),ep({background:!0,foreground:!0}),$(!1),eg&&eD()},children:"Delete"})]})]})}),(0,s.jsx)(Q,{open:H,onOpenChange:J,children:(0,s.jsxs)(et,{children:[(0,s.jsxs)(ea,{children:[(0,s.jsx)(er,{children:"Are you sure you want to clear all text items?"}),(0,s.jsx)(el,{children:"This action cannot be undone. This will remove all text items from the image."})]}),(0,s.jsxs)(es,{children:[(0,s.jsx)(ei,{children:"Cancel"}),(0,s.jsx)(en,{onClick:()=>{c([]),e_([]),J(!1)},children:"Clear All"})]})]})})]})}},2869:function(e,t,a){"use strict";a.d(t,{d:function(){return o},z:function(){return d}});var s=a(7437),r=a(2265),l=a(7053),n=a(7712),i=a(4508);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:d=!1,...c}=e,u=d?l.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:r,size:n,className:a})),ref:t,...c})});d.displayName="Button"},6512:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(7437),r=a(2265),l=a(5156),n=a(4508);let i=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:i=!0,...o}=e;return(0,s.jsx)(l.f,{ref:t,decorative:i,orientation:r,className:(0,n.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...o})});i.displayName=l.f.displayName},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var s=a(1994),r=a(3335);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[974,154,659,477,827,971,117,744],function(){return e(e.s=7542)}),_N_E=e.O()}]);